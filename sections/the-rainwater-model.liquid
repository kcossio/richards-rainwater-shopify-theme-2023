{{ 'section-rainwater-model.css' | asset_url | stylesheet_tag }}

<section class="rainbow-banner">
  <div class="inner">
    <h2 class="fade-in-left">{{ section.settings.heading }}</h2> 
    
      {{ section.settings.introduction }} 
  </div><!--End inner-->

    <div class="bg-img bg-hero">
      <img class="bg-parallax" src="{{ 'bg-rainbow.svg' | asset_url }}>" width="1923" height="2042" role="presentation" alt="rainbow" />
    </div>


    <div class="clouds clouds-wide bottom">
      <div class="scroll-parent">
        <div class="scroll-element slow primary">
          <img class="cloud" src="{{ 'cloud-wide.svg' | asset_url }}>" width="1877" height="188" role="presentation" alt="cloud" />
        </div>
        <div class="scroll-element slow secondary">
          <img class="cloud" src="{{ 'cloud-wide.svg' | asset_url }}>" width="1877" height="188" role="presentation" alt="cloud" />
        </div>
      </div>
</section><!--End rainbowbanner-->
      

<ul class="model-blocks">
  {% assign count = 0 %}
  {%- for block in section.blocks -%}
      {% assign count = count | plus: 1 %}
      {% capture thecycle %}{% cycle 'odd', 'even' %}{% endcapture %}
      {% if thecycle == 'odd' %}
        {% assign img_animate = ' fade-in-left' %}
        {% assign content_animate = 'fade-in-right' %}
      {% else %}
        {% assign img_animate = ' fade-in-right' %}
        {% assign content_animate = ' fade-in-left' %}
      {% endif %}
  {%- case block.type -%}

    {%- when 'model_blocks' -%}
      <li class="model-block model-block-{{ count }}">
      {%- assign image = block.settings.image -%}
      
      {%- if image != blank -%}
        {%- assign img_class = 'block-hero block-hero-' | append: count -%}
        {% assign img_class = img_class | append: img_animate %}
      {{ image | image_url: width: image.width | image_tag: class: img_class, loading: 'lazy' }}
      {%- endif -%}

      <div class="model-block-content {{ content_animate }}">
        <h3><span>{{ count }}</span>{{ block.settings.heading }}</h3>
        {{ block.settings.description }} 
      </div><!--End model-block-content-->

      
      </li><!--End model-block-->
  {%- endcase -%}
{%- endfor -%}
</ul><!--End model blocks-->

<div class="drops" id="drops-1">
  <img class="drop" src="{{ 'icon-drop-med-blue.svg' | asset_url }}>" width="68" height="95" role="presentation" alt="drop" />
</div>


<script type="text/javascript">
  window.addEventListener("load", (event) => {
    console.log('loaded. Now run the drops')
  twinkle('#drops-1', 300);
  });

</script>

{% schema %}
  {
  "name": "The Rainwater Model",
  "class": "rainwater-model",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "The Rainwater Model",
      "info": "Enter a heading for the section"
    },
    {
      "type": "textarea",
      "id": "introduction",
      "label": "Introduction",
      "info": "Add a block of introductory text to the section"
    }
  ],
  "blocks": [
    {
      "name": "Model Block",
      "type": "model_blocks",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image",
          "info": "Upload an image (PNG, GIF) for this block. This will appear on the left or right side of the block, depending on the order of the block"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "info": "Add a heading for the block (e.g. Rains, Collect)"
        },
        {
          "type": "richtext",
          "id": "description",
          "label": "Description",
          "info": "Add content for this model block"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "The Rainwater Model"
    }
  ]
}  
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}